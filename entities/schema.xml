<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->
<database name="miltype" defaultIdMethod="native">
  <table name="activity" phpName="Activity" idMethod="native">
    <column name="id" phpName="Id" type="BIGINT" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="action" phpName="Action" type="SMALLINT" required="true"/>
    <column name="type" phpName="Type" type="SMALLINT" required="true"/>
    <column name="date" phpName="Date" type="TIMESTAMP" required="true"/>
    <column name="member_id" phpName="MemberId" type="INTEGER" required="false"/>
    <column name="related_id" phpName="RelatedId" type="INTEGER" required="false"/>
    <column name="meta" phpName="Meta" type="LONGVARCHAR" required="false"/>
    <foreign-key foreignTable="member" name="fk_activity_member" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="member_id" foreign="id"/>
    </foreign-key>
    <index name="idx_activity_related_id">
      <index-column name="member_id"/>
    </index>
  </table>
  <table name="currency" phpName="Currency" idMethod="native">
    <column name="name" phpName="Name" type="VARCHAR" size="128" required="true"/>
    <column name="alphabetic_code" phpName="AlphabeticCode" type="VARCHAR" size="3" primaryKey="true" required="true"/>
    <column name="numeric_code" phpName="NumericCode" type="VARCHAR" size="3" required="true"/>
    <column name="minor_unit" phpName="MinorUnit" type="SMALLINT" required="true"/>
    <unique name="currency_numeric_code_UNIQUE">
      <unique-column name="numeric_code"/>
    </unique>
  </table>
  <table name="invitation" phpName="Invitation" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="hash" phpName="Hash" type="VARCHAR" size="64" primaryKey="true" required="true"/>
    <column name="member_id" phpName="MemberId" type="INTEGER" required="true"/>
    <column name="type" phpName="Type" type="SMALLINT" required="true"/>
    <column name="free_signup" phpName="FreeSignup" type="SMALLINT" required="true"/>
    <column name="creation_date" phpName="CreationDate" type="TIMESTAMP" required="true"/>
    <column name="accepted_date" phpName="AcceptedDate" type="TIMESTAMP" required="false"/>
    <column name="accepted_member_id" phpName="AcceptedMemberId" type="INTEGER" required="false"/>
    <column name="meta" phpName="Meta" type="LONGVARCHAR" required="true" defaultValue="[]"/>
    <foreign-key foreignTable="member" name="fk_invitation_accepted_member" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="accepted_member_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="member" name="fk_invitation_member" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="member_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="member" phpName="Member" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="first_name" phpName="FirstName" type="VARCHAR" size="80" required="true"/>
    <column name="last_name" phpName="LastName" type="VARCHAR" size="80" required="true"/>
    <column name="num" phpName="Num" type="INTEGER" autoIncrement="true" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="80" required="true"/>
    <column name="title" phpName="Title" type="VARCHAR" size="80" required="true"/>
    <column name="city" phpName="City" type="VARCHAR" size="80" required="true"/>
    <column name="country" phpName="Country" type="VARCHAR" size="80" required="true"/>
    <column name="age" phpName="Age" type="SMALLINT" required="true"/>
    <column name="referrer_id" phpName="ReferrerId" type="INTEGER" required="false"/>
    <column name="parent_id" phpName="ParentId" type="INTEGER" required="false"/>
    <column name="signup_date" phpName="SignupDate" type="TIMESTAMP" required="true"/>
    <column name="paid_date" phpName="PaidDate" type="TIMESTAMP" required="false"/>
    <column name="funds_level" phpName="FundsLevel" type="SMALLINT" required="true" defaultValue="1"/>
    <column name="bank_recipient" phpName="BankRecipient" type="VARCHAR" size="120" required="true"/>
    <column name="iban" phpName="Iban" type="VARCHAR" size="80" required="true"/>
    <column name="bic" phpName="Bic" type="VARCHAR" size="80" required="true"/>
    <column name="type" phpName="Type" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="bonus_ids" phpName="BonusIds" type="VARCHAR" size="80" required="true" defaultValue=""/>
    <column name="bonus_level" phpName="BonusLevel" type="DOUBLE" required="true" defaultValue="0"/>
    <column name="advertised_count" phpName="AdvertisedCount" type="INTEGER" required="true" defaultValue="0"/>
    <column name="outstanding_advertised_count" phpName="OutstandingAdvertisedCount" type="INTEGER" required="true" defaultValue="0"/>
    <column name="password" phpName="Password" type="VARCHAR" size="80" required="true"/>
    <column name="transferred_total" phpName="TransferredTotal" type="VARCHAR" size="255" required="true" defaultValue="[]"/>
    <column name="outstanding_total" phpName="OutstandingTotal" type="VARCHAR" size="255" required="true" defaultValue="[]"/>
    <column name="deletion_date" phpName="DeletionDate" type="TIMESTAMP" required="false"/>
    <column name="sub_promoter_referral" phpName="SubPromoterReferral" type="INTEGER" required="false"/>
    <foreign-key foreignTable="member" name="fk_member_parent" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="parent_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="member" name="fk_member_referrer" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="referrer_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="member" name="fk_member_sub_promoter_referral" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="sub_promoter_referral" foreign="id"/>
    </foreign-key>
    <unique name="member_num_UNIQUE">
      <unique-column name="num"/>
    </unique>
  </table>
  <table name="reserved_paid_event" phpName="ReservedPaidEvent" idMethod="native">
    <column name="unpaid_id" phpName="UnpaidId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="paid_id" phpName="PaidId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="currency" phpName="Currency" type="VARCHAR" size="3" required="true"/>
    <column name="date" phpName="Date" type="TIMESTAMP" required="true"/>
    <foreign-key foreignTable="member" name="fk_reserved_paid_event_paid_member" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="paid_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="member" name="fk_reserved_paid_event_unpaid_member" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="unpaid_id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="system_stats" phpName="SystemStats" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="signup_count" phpName="SignupCount" type="INTEGER" required="true" defaultValue="0"/>
    <column name="member_count" phpName="MemberCount" type="INTEGER" required="true" defaultValue="0"/>
    <column name="starter_count" phpName="StarterCount" type="INTEGER" required="true" defaultValue="0"/>
    <column name="pm_count" phpName="PmCount" type="INTEGER" required="true" defaultValue="0"/>
    <column name="ol_count" phpName="OlCount" type="INTEGER" required="true" defaultValue="0"/>
    <column name="vl_count" phpName="VlCount" type="INTEGER" required="true" defaultValue="0"/>
  </table>
  <table name="transaction" phpName="Transaction" idMethod="native">
    <column name="id" phpName="Id" type="BIGINT" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="transfer_id" phpName="TransferId" type="INTEGER" required="true"/>
    <column name="amount" phpName="Amount" type="DOUBLE" required="true" defaultValue="0"/>
    <column name="reason" phpName="Reason" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="purpose" phpName="Purpose" type="VARCHAR" size="255" required="true" defaultValue=""/>
    <column name="related_id" phpName="RelatedId" type="INTEGER" required="false"/>
    <column name="date" phpName="Date" type="TIMESTAMP" required="true"/>
    <foreign-key foreignTable="transfer" name="fk_transaction_transfer" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="transfer_id" foreign="id"/>
    </foreign-key>
    <index name="idx_transaction_related_id">
      <index-column name="related_id"/>
    </index>
  </table>
  <table name="transfer" phpName="Transfer" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="member_id" phpName="MemberId" type="INTEGER" required="true"/>
    <column name="amount" phpName="Amount" type="DOUBLE" required="true" defaultValue="0"/>
    <column name="currency" phpName="Currency" type="VARCHAR" size="3" required="true"/>
    <column name="state" phpName="State" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="attempts" phpName="Attempts" type="SMALLINT" required="true" defaultValue="0"/>
    <column name="execution_date" phpName="ExecutionDate" type="TIMESTAMP" required="false"/>
    <column name="processed_date" phpName="ProcessedDate" type="TIMESTAMP" required="false"/>
    <foreign-key foreignTable="member" name="fk_transfer_member" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="member_id" foreign="id"/>
    </foreign-key>
    <index name="idx_transfer_currency">
      <index-column name="currency"/>
    </index>
    <index name="idx_transfer_state">
      <index-column name="state"/>
    </index>
  </table>
</database>
