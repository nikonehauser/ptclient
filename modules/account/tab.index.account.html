  <?php
    use \Tbmt\Base;

    if ( $this->signupmsg ) {
      echo \Tbmt\view\Factory::buildNotification(
        \Tbmt\Localizer::insert($this->i18nView['welc_not_1'], ['name' => \Tbmt\view\Factory::buildMemberFullNameString($this->member)]),
        '',
        'success top',
        '<p>'.$this->i18nView['welc_not_2'].'</p>'.
        '<p>'.$this->i18nView['welc_not_3'].'</p>'
      );
    } else if ( !$this->member->hadPaid() ) {
      echo \Tbmt\view\Factory::buildNotification($this->i18nView['unpaid_text'], $this->i18nView['warning'], 'warning top');
    } else {
      echo \Tbmt\view\Factory::buildNotification($this->i18nView['paid_text'], $this->i18nView['tank_you'], 'info top');
    }
  ?>

    <div class="row">
      <div class="col-md-6">
          <?=\Tbmt\view\Factory::buildHeadingArea($this->i18nView['account'], 'bottom-30 top-10')?>

          <dl class="dl-horizontal dl-largeSpaced dl-prettyStyled">
              <?php
              if ( $this->member->getType() > \Member::TYPE_MEMBER ) {
                echo '<dt>'.$this->i18nView['member_type'].'</dt>
                  <dd>'.$this->i18nCommon['member_types'][$this->member->getType()].'</dd>';

              }
              ?>

              <dt><?=$this->i18nView['your_num']?></dt>
              <dd><?=$this->member->getNum()?></dd>

              <?php
              if ( $this->member->getBonusLevel() > 0 ) {
                echo '<dt>'.$this->i18nView['bonus_level'].'</dt>
                  <dd>+ '.\Tbmt\Localizer::currencyFormat($this->member->getBonusLevel(),
                        [\Transaction::$BASE_CURRENCY]
                      ).'</dd>';

              }
              ?>

              <dt><?=$this->i18nView['address']?></dt>
              <dd>
                  <?=\Tbmt\view\Factory::buildMemberAddress($this->member)?>
              </dd>

              <dt><?=$this->i18nView['email']?></dt>
              <dd>
                  <?=$this->member->getEmail() ?
                  Base::encodeHtml($this->member->getEmail()) :
                  '<em class="text-muted">'.$this->i18nView['email_none'].'</em>'?>
              </dd>
          </dl>
      </div>
      <div class="col-md-6">
          <?=\Tbmt\view\Factory::buildHeadingArea($this->i18nView['bank_account'], 'bottom-30 top-10')?>

          <p>TODO</p>
          <br>
          <br>
          <br>
          <br>
          <br>

          <div style="display: none;">
            <dl class="dl-horizontal dl-largeSpaced dl-prettyStyled">
                <dt><?=$this->i18nView['bank_recipient']?></dt>
                <dd><?=Base::encodeHtml($this->member->getBankRecipient())?></dd>

                <dt><?=$this->i18nView['iban']?></dt>
                <dd><?=Base::encodeHtml($this->member->getIban())?></dd>

                <dt><?=$this->i18nView['bic']?></dt>
                <dd><?=Base::encodeHtml($this->member->getBic())?></dd>
            </dl>
          </div>

          <?=\Tbmt\view\Factory::buildButton(
            $this->i18nView['change_profile'],
            \Tbmt\Router::toModule('manage', 'change_profile'),
            ' blue pull-right',
            'credit-card'
          )?>

          <?=\Tbmt\view\Factory::buildButton(
            $this->i18nView['change_pwd'],
            \Tbmt\Router::toModule('manage', 'change_pwd'),
            ' yellow',
            'lock'
          )?>
      </div>
    </div>

    <div class="row" style="display: none;">
      <div class="col-md-12">
          <?=\Tbmt\view\Factory::buildHeadingArea($this->i18nView['guides'], 'bottom-30 top-10')?>

        <div style="padding-left: 25px;" class="widget category">
          <?php

          if ( !$this->guidesCount ) {
            echo \Tbmt\view\Factory::buildNotification($this->i18nView['guides_not_available'], '', 'info');
          } else {
            echo '<ul>';
            for ( $i = 1; $i <= $this->guidesCount; $i++ ) {
              echo '<li><a target="_blank" href="'.\Tbmt\Router::toModule('download', 'guide', ['number' => $i]).'">'.
                \Tbmt\Localizer::insert($this->i18nView['guide_name'], ['number' => $i]).
                '</a></li>';
            }

            echo '</ul>';
          }

          ?>
        </div>
      </div>
    </div>